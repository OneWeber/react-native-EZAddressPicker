{"version":3,"sources":["../../src/tools/envinfo.ts"],"names":["getEnvironmentInfo","json","options","showNotFound","info","envinfo","run","System","Binaries","IDEs","Languages","SDKs","npmPackages","npmGlobalPackages","JSON","parse","trim"],"mappings":";;;;;;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AADA;AAaA,eAAeA,kBAAf,CACEC,IAAI,GAAG,IADT,EAEqC;AACnC,QAAMC,OAAO,GAAG;AAACD,IAAAA,IAAD;AAAOE,IAAAA,YAAY,EAAE;AAArB,GAAhB;AAEA,QAAMC,IAAI,GAAI,MAAMC,mBAAQC,GAAR,CAClB;AACEC,IAAAA,MAAM,EAAE,CAAC,IAAD,EAAO,KAAP,EAAc,QAAd,EAAwB,OAAxB,CADV;AAEEC,IAAAA,QAAQ,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,KAAjB,EAAwB,UAAxB,CAFZ;AAGEC,IAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,gBAAV,CAHR;AAIEC,IAAAA,SAAS,EAAE,CAAC,QAAD,CAJb;AAKEC,IAAAA,IAAI,EAAE,CAAC,SAAD,EAAY,aAAZ,CALR;AAMEC,IAAAA,WAAW,EAAE,CAAC,OAAD,EAAU,cAAV,EAA0B,6BAA1B,CANf;AAOEC,IAAAA,iBAAiB,EAAE,CAAC,gBAAD;AAPrB,GADkB,EAUlBX,OAVkB,CAApB;;AAaA,MAAIA,OAAO,CAACD,IAAZ,EAAkB;AAChB,WAAOa,IAAI,CAACC,KAAL,CAAWX,IAAX,CAAP;AACD;;AAED,SAAOA,IAAI,CAACY,IAAL,EAAP;AACD;;eAEchB,kB","sourcesContent":["// @ts-ignore\nimport envinfo from 'envinfo';\nimport {EnvironmentInfo} from '../commands/doctor/types';\n\n/**\n * Returns information about the running system.\n * If `json === true`, or no options are passed,\n * the return type will be an `EnvironmentInfo`.\n * If set to `false`, it will be a `string`.\n */\nasync function getEnvironmentInfo(): Promise<EnvironmentInfo>;\nasync function getEnvironmentInfo(json: true): Promise<EnvironmentInfo>;\nasync function getEnvironmentInfo(json: false): Promise<string>;\nasync function getEnvironmentInfo(\n  json = true,\n): Promise<string | EnvironmentInfo> {\n  const options = {json, showNotFound: true};\n\n  const info = (await envinfo.run(\n    {\n      System: ['OS', 'CPU', 'Memory', 'Shell'],\n      Binaries: ['Node', 'Yarn', 'npm', 'Watchman'],\n      IDEs: ['Xcode', 'Android Studio'],\n      Languages: ['Python'],\n      SDKs: ['iOS SDK', 'Android SDK'],\n      npmPackages: ['react', 'react-native', '@react-native-community/cli'],\n      npmGlobalPackages: ['*react-native*'],\n    },\n    options,\n  )) as string;\n\n  if (options.json) {\n    return JSON.parse(info);\n  }\n\n  return info.trim();\n}\n\nexport default getEnvironmentInfo;\n"]}